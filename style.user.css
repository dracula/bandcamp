/* ==UserStyle==
@name           Dracula for Bandcamp.com
@namespace      https://github.com/eros404
@homepageURL    https://github.com/eros404/dracula-bandcamp
@supportURL     https://github.com/eros404/dracula-bandcamp/issues
@updateURL      https://github.com/eros404/dracula-bandcamp/raw/main/style.user.css
@version        0.1.2
@description    A dark mode for Bandcamp
@author         Eros404
@preprocessor   less
@license        MIT
==/UserStyle== */

@darker: #282A36;
@dark: #343746;
@black-200: #5c6071;
@white: #f3f4fb;
@blue-050: #5f4a7d;
@blue-100: #715895;
@blue-200: #8467ae;
@blue-300: #9776c7;
@blue-400: #aa84e0;
@blue-500: #bd93f9;
@blue-600: #c49efa;
@blue-700: #d7befb;
@blue-800: #e5d4fd;
@blue-900: #f2e9fe;

@-moz-document url-prefix("https://bandcamp.com"),
url-prefix("http://bandcamp.com") {

    /* Body */
    body {
        background-color: @darker;
        color: @white;
    }

    /* Menu */
    #menubar-wrapper.header-rework-2018 .menubar-outer {
        background-color: @dark;
        color: @white;
    }

    .menubar-2018 {
        background-color: @dark;

        .hoverable:hover,
        .hoverable:focus,
        .notification-center-menubar-button a:focus {
            background-color: @blue-600;
        }
    }

    form.menubar-search {
        input[type="text"] {
            background-color: @darker;
            color: @white;
        }

        ul {
            background-color: @darker;
        }

        .search-autocomplete li:not(.results-see-all):not(.results-tags) {
            &.result-item a>span {
                color: @white;
            }

            a {
                background-color: @darker;

                &:hover {
                    background-color: @dark;
                }
            }
        }

        &.has-results:not(.pending) ul.filter-list .filter-link:not(.selected-filter):hover {
            border-bottom-color: @blue-600;
        }
    }

    body.search-active form.menubar-search.has-results ul.filter-list .filter-link {
        color: @blue-600;

        &.selected-filter {
            color: @white;
            border-bottom-color: @white;
        }
    }

    /* Footer */
    .pg-ft {
        background-color: @blue-400;

        &-nav .lang-picker {
            background-color: @blue-200;
        }
    }

    .lang-picker-content {
        background-color: @blue-200;

        li {
            border-bottom-color: @blue-200;
        }
    }

    /* Home page */
    #collection-main>a:nth-child(1)>svg:nth-child(1)>use:nth-child(1),
    #menubar-feed-icon,
    #b,
    #an,
    #d,
    #c,
    #am,
    #p {
        fill: @white;
    }

    #rhomboid,
    .stepper .icon,
    .stepper-bcdaily .icon {
        fill: @blue-600;
    }

    .stepper-prev,
    .stepper-next,
    .stepper-bcdaily {
        color: @blue-600;

        &:hover {
            color: @blue-400;

            .icon {
                fill: @blue-400;
            }
        }
    }

    .salesfeed .section-title,
    .notable .section-title,
    .bcdaily .section-title,
    .curated-shows .section-title,
    .tags .section-title {
        color: @blue-600;
    }

    .genre-bar {
        background-color: @blue-600 !important;
    }

    .slice-bar {
        background-color: @blue-400 !important;
    }

    .format-bar {
        background-color: @blue-200 !important;
    }

    .notable,
    .curated-shows,
    .bcdaily,
    .email-intake,
    .discover,
    .app-promo-desktop {
        background-color: @darker;
    }

    .salesfeed .item-inner {
        color: @white;

        &:hover {
            background-color: @dark;
        }
    }

    .carousel-bcweekly-container-container {
        background-color: @darker;
    }

    .notable-item {
        background-color: @dark;
    }

    .item-title>a {
        color: @white;
    }

    .item-collection-controls>li a {
        color: @white;
    }

    .live-listing {
        background-color: @dark;

        .show-details {

            .show-title,
            .show-artist {
                color: @white;
            }
        }
    }

    .show-time-container {

        .show-date,
        .show-time {
            color: @white;
        }
    }

    .bcdaily {
        .bcdaily-story {
            background-color: @dark;
        }

        &-title {
            color: @white;
        }

        .read-more {
            color: @blue-600;
        }
    }

    #email-intake-vm button:hover:enabled.showoff {
        background-color: @blue-600;
    }

    .aotd-large {
        background-color: @dark;

        .bcdaily-title,
        .aotd-artist,
        .bcdaily-blurb {
            color: @white;
        }
    }

    #email-intake-vm p {
        color: @white;
    }

    .discover .section-title,
    .spotlight .section-title,
    .signups .section-title {
        color: @white;
    }

    .section-title a {

        &:active,
        &.selected {
            background-color: @blue-600;
        }
    }

    .discover-item a {

        &.item-title,
        &.item-artist,
        &.item-genre {
            color: @white;
        }
    }

    .discover-detail {
        background-color: @dark;
    }

    .discover .detail-body a {
        color: @white
    }

    .inline_player .playbutton {
        background-color: @dark;

        &::after {
            border-left-color: @white;
        }

        &.playing::after {
            border-left-color: @white;
            border-right-color: @white;
        }
    }

    .item-page {
        background: none;
        color: @blue-600;

        &.selected {
            color: @white;
        }
    }

    #email-intake-vm input {
        background-color: @dark;
        color: @white;
    }

    .scroller-prev,
    .scroller-next {

        &,
        & .scroller-fade {
            background: none !important;
        }
    }

    /* Fan page */
    #propOpenWrapper,
    #pgBd {
        background-color: @darker;
    }

    .fan-bio {
        color: @white;
    }

    .grids {
        color: inherit;

        ol.tabs li.active {

            &,
            &:hover {
                color: @white;
                border-bottom-color: @white;
            }
        }

        .search .search-box {
            background-color: @dark;
            color: @white;
        }
    }

    select.fav-track,
    #wishlist-visibility,
    #following-genre-visibility {
        background-color: @dark;
        color: @white;
        border: 1px solid #ccc;
    }

    .why-edit-box textarea {
        background-color: @dark;
        color: @white;
        box-shadow: none;
    }

    #grid-tabs-sticky.fixed {
        background-color: @darker;
    }

    .item-link {
        color: @white;
    }

    .followeer {

        .fan-username,
        .genre-name {
            color: @white;
        }
    }

    .follow-unfollow {

        &,
        &.following,
        &-inactive {
            background-color: @dark;
        }
    }

    .fan-bio .edit-profile>a {
        background-color: @dark;
    }

    .fan-container .top.editing {
        background-color: @darker;
        border-bottom-color: @darker;
    }

    .fan-banner.empty.owner {
        background-color: @black-200;
    }

    .collection-container.noreviewtrack .just-hint {
        color: @dark;
    }

    /* Feed page */
    #stories-vm {
        .story-innards {
            background-color: @dark;

            .story-body {
                color: @white;
            }

            .story-footer {
                background-color: @dark;
                border-top-color: @dark;
            }
        }
    }

    /* Search page */
    #q {
        background-color: @dark;
        color: @white;
    }

    #search-filters {
        border-bottom-width: 1px;

        .filter-link--active {
            color: @white;
            border-bottom-color: @white;
        }
    }

    .pager {

        .nextprev,
        .pagenum {
            background-color: inherit;
        }

        .chosen {

            &,
            &:hover {
                color: @white;
            }
        }
    }

    /* Purchaases page */
    h1 {
        color: @white;
    }

    .merch-delay-note {
        color: @dark;
    }

    .purchases-item {
        background-color: @dark;
    }

    .dark-link {
        color: @white;
    }

    /* Settings page */
    .pane {

        &,
        & h2 {
            color: @white;
        }
    }

    form.settings input,
    form.settings select,
    form.settings textarea,
    form.settings .StripeElement {
        background-color: @dark;
        color: @white;
    }

    #settings-menubar li {
        &:hover {
            background-color: @dark;
        }

        &.active {
            background-color: @dark;

            &:hover {
                background-color: @blue-600;
            }

            &>a {
                color: @white;
            }
        }
    }

    .message {
        color: @dark;
    }
}